import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,d as t}from"./app-DANWba4q.js";const p={},e=t(`<div class="hint-container tip"><p class="hint-container-title">æ‹‰ä¸ªStar</p><ul><li>å¦‚æœ<a href="https://github.com/kkwalking/person-database" target="blank">æœ¬çŸ¥è¯†åº“</a>çš„å†…å®¹å¸®åŠ©åˆ°ä½ ï¼Œè¿˜è¯·ç‚¹ä¸ªå…è´¹çš„Starï¼Œæ„Ÿè°¢ã€‚ä¼ é€é—¨ï¼š<a href="https://github.com/kkwalking/person-database" target="blank">GitHub</a></li></ul></div><p>ä½¿ç”¨OkHttpæ¥è¿›è¡Œhttpè°ƒç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨æ± åŒ–æœºåˆ¶ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼ŒHttpæ˜¯åŸºäºTCPçš„ï¼Œè€ŒTCPæ˜¯é¢å‘è¿æ¥çš„ã€‚TCPé“¾æ¥çš„å»ºç«‹éœ€è¦ç»å†ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPé“¾æ¥çš„é‡Šæ”¾éœ€è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚å› è€Œï¼Œè¿æ¥çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´å’Œèµ„æºã€‚æ‰€ä»¥é€šå¸¸ä¼šå°†è¿™äº›é“¾æ¥è¿›è¡Œå¤ç”¨ï¼Œè¡¨ç°åœ¨Httpå±‚é¢å°±æ˜¯ä½¿ç”¨Connection:keep-aliveï¼Œå†åœ¨ä»£ç ä¸­å°†è¿™äº›å·²ç»å»ºç«‹çš„è¿æ¥ä¿å­˜èµ·æ¥ï¼Œåç»­å¦‚æœæ˜¯åŒä¸€ä¸ªä¸»æœºåœ°å€çš„ä¾¿å¯ä»¥å¤ç”¨ã€‚è¿™å°±æ˜¯OKHttpçš„è¿æ¥æ± æœºåˆ¶ã€‚</p><p>æœ€è¿‘åœ¨Spring Booté¡¹ç›®ä¸­ï¼Œæˆ‘ä¹Ÿæ˜¯ç”¨äº†OkHttpæ¥å‘é€httpè¯·æ±‚è°ƒç”¨ï¼Œå¹¶é…ç½®äº†ä¸€ä¸ªè¿æ¥æ± ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OkHttpConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>  
    <span class="token keyword">public</span> <span class="token class-name">ConnectionPool</span> <span class="token function">pool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConnectionPool</span><span class="token punctuation">(</span>  
        <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5L</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MINUTES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>  
    <span class="token keyword">public</span> <span class="token class-name">OkHttpClient</span> <span class="token function">okHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">sslSocketFactory</span><span class="token punctuation">(</span><span class="token function">sslSocketFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">x509TrustManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token comment">// é…ç½®è¿æ¥æ± ,å¤ç”¨connection  </span>
        <span class="token punctuation">.</span><span class="token function">connectionPool</span><span class="token punctuation">(</span><span class="token function">pool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">connectTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">readTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">writeTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span><span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">retryOnConnectionFailure</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶è€Œåœ¨ä½¿ç”¨é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œå‘ç°æ—¶ä¸æ—¶è¯·æ±‚ä¼šå‡ºç°å¤±è´¥ï¼Œæ–¹ä¾¿å¤§å®¶æœç´¢åˆ°ï¼Œæˆ‘æŠŠå¼‚å¸¸ç»“æœæ”¾ä¸Šæ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>IOException</span><span class="token operator">:</span> unexpected end of stream on http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>xxx<span class="token punctuation">.</span>xxx<span class="token operator">/</span>api<span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http1<span class="token punctuation">.</span></span>Http1ExchangeCodec</span><span class="token punctuation">.</span><span class="token function">readResponseHeaders</span><span class="token punctuation">(</span><span class="token class-name">Http1ExchangeCodec</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">202</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span>Exchange</span><span class="token punctuation">.</span><span class="token function">readResponseHeaders</span><span class="token punctuation">(</span><span class="token class-name">Exchange</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">106</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>CallServerInterceptor</span><span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">CallServerInterceptor</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">79</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RealInterceptorChain</span><span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token class-name">RealInterceptorChain</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span>ConnectInterceptor</span><span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">ConnectInterceptor</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">34</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RealInterceptorChain</span><span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token class-name">RealInterceptorChain</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>cache<span class="token punctuation">.</span></span>CacheInterceptor</span><span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">CacheInterceptor</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RealInterceptorChain</span><span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token class-name">RealInterceptorChain</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>BridgeInterceptor</span><span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">BridgeInterceptor</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">83</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RealInterceptorChain</span><span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token class-name">RealInterceptorChain</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RetryAndFollowUpInterceptor</span><span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">RetryAndFollowUpInterceptor</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">76</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>RealInterceptorChain</span><span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token class-name">RealInterceptorChain</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">109</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span>RealCall</span><span class="token punctuation">.</span>getResponseWithInterceptorChain$<span class="token function">okhttp</span><span class="token punctuation">(</span><span class="token class-name">RealCall</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">201</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span>RealCall</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">RealCall</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">154</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>eshore<span class="token punctuation">.</span>quanmeiti<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span>OkHttpService</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">OkHttpService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">194</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>eshore<span class="token punctuation">.</span>quanmeiti<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span>OkHttpService</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">OkHttpService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">71</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>eshore<span class="token punctuation">.</span>quanmeiti<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>common<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span>GatewayTask</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">GatewayTask</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">73</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span><span class="token punctuation">.</span><span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1128</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span>$<span class="token class-name">Worker</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">628</span><span class="token punctuation">)</span>
	at java<span class="token punctuation">.</span>base<span class="token operator">/</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Thread</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">834</span><span class="token punctuation">)</span>
<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>EOFException</span><span class="token operator">:</span> \\n not found<span class="token operator">:</span> limit<span class="token operator">=</span><span class="token number">0</span> content<span class="token operator">=</span>â€¦
	at <span class="token class-name"><span class="token namespace">okio<span class="token punctuation">.</span></span>RealBufferedSource</span><span class="token punctuation">.</span><span class="token function">readUtf8LineStrict</span><span class="token punctuation">(</span><span class="token class-name">RealBufferedSource</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">332</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http1<span class="token punctuation">.</span></span>HeadersReader</span><span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token class-name">HeadersReader</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">29</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">okhttp3<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>http1<span class="token punctuation">.</span></span>Http1ExchangeCodec</span><span class="token punctuation">.</span><span class="token function">readResponseHeaders</span><span class="token punctuation">(</span><span class="token class-name">Http1ExchangeCodec</span><span class="token punctuation">.</span>kt<span class="token operator">:</span><span class="token number">178</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">19</span> more
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨stackoverflowä¸ŠæŸ¥åˆ°äº†åŸå› ï¼Œå¤§æ¦‚å°±æ˜¯æœåŠ¡ç«¯ç«¯(ç›¸å¯¹æ¥è¯´æˆ‘ä»¬æ˜¯å®¢æˆ·ç«¯)æ²¡æœ‰æ­£ç¡®å¤„ç†<code>Connection:keep-alive</code>é•¿è¿æ¥ã€‚æœåŠ¡ç«¯é‚£è¾¹å¼‚å¸¸å…³é—­äº†è¿™æ¡TCPè¿æ¥ï¼Œå¯¼è‡´äº†æˆ‘ä»¬è¿™è¾¹è¯·æ±‚å°±å‡ºé”™äº†ã€‚</p><p>è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ã€‚</p><p>ç¬¬ä¸€ç§ï¼šé‚£æˆ‘ä»¬ä¸ç”¨é•¿è¿æ¥äº†ï¼Œå‘é€è¯·æ±‚çš„æ—¶å€™ä¸»åŠ¨æ·»åŠ ä¸Šè¯·æ±‚å¤´<code>Connection:close</code>, ä¸€æ¡è¿æ¥å°±å˜æˆä¸€æ¬¡æ€§çš„ï¼Œå‘å®Œè¯·æ±‚å°±å…³é—­ã€‚</p><p>ä¸€å¼€å§‹æˆ‘ç”¨çš„è¿™ç§æ–¹æ¡ˆï¼Œé—®é¢˜æ˜¯è§£å†³äº†ã€‚åé¢è½¬å¿µä¸€æƒ³ï¼Œé‚£æˆ‘çš„è¿æ¥æ± å°±åºŸäº†å‘€ï¼Œæ¯æ¬¡è¯·æ±‚å®Œéƒ½æŠŠè¿æ¥é‡Šæ”¾æ‰ï¼Œä¸‹æ¬¡è¯·æ±‚å°±è¦é‡æ–°å»ºç«‹ä¸€æ¡è¿æ¥ï¼Œè¿æ¥æ± çš„ä½œç”¨å°±æ— äº†ã€‚</p><p>å› æ­¤ï¼Œåé¢æˆ‘é‡‡ç”¨äº†ç¬¬äºŒç§æ–¹æ¡ˆã€‚</p><p>ç¬¬äºŒç§æ–¹æ¡ˆï¼šå°†OKHttpClientçš„ä¸€é¡¹é…ç½®retryOnConnectionFailureè®¾ç½®ä¸ºtrueã€‚è¯¥é…ç½®çš„æ„æ€æ˜¯å¯ç”¨è¿æ¥å¤±è´¥é‡è¯•ã€‚</p><p>ä»£ç å¦‚ä¸‹:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Bean</span>  
    <span class="token keyword">public</span> <span class="token class-name">OkHttpClient</span> <span class="token function">okHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">sslSocketFactory</span><span class="token punctuation">(</span><span class="token function">sslSocketFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">x509TrustManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token comment">// é…ç½®è¿æ¥æ± ,å¤ç”¨connection  </span>
        <span class="token punctuation">.</span><span class="token function">connectionPool</span><span class="token punctuation">(</span><span class="token function">pool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">connectTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">readTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">writeTimeout</span><span class="token punctuation">(</span><span class="token number">30L</span><span class="token punctuation">,</span><span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">retryOnConnectionFailure</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>  
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®è¯¥é…ç½®æ˜¯é»˜è®¤å¯ç”¨çš„ï¼Œå¥ˆä½•æˆ‘ä¸€å¼€å§‹é…ç½®çš„æ—¶å€™ä¸»åŠ¨ç»™å…³é—­äº† ğŸ˜ƒ</p><p>é…ç½®ä¹‹åï¼Œæˆ‘ä»¬è¿˜æ˜¯èƒ½ç”¨å¯ç”¨é•¿è¿æ¥ï¼Œå› æ­¤å¯ç”¨è¿æ¥æ± æ˜¯æœ‰æ„ä¹‰çš„ã€‚å½“å¶å°”å‡ºç°ç”±äºæœåŠ¡ç«¯é”™è¯¯å…³é—­è¯¥TCPè¿æ¥æ—¶ï¼ŒOkHttpä¾¿ä¼šé‡è¯•ï¼Œé‡æ–°å»ºç«‹ä¸€æ¡æ–°çš„TCPè¿æ¥æ¥å¤ç”¨ã€‚</p>`,16),o=[e];function c(l,u){return a(),s("div",null,o)}const r=n(p,[["render",c],["__file","okhttp-conncection-pool-problem.html.vue"]]),m=JSON.parse('{"path":"/java/okhttp-conncection-pool-problem.html","title":"OkHttpå¼€å¯çº¿ç¨‹æ± å¤ç”¨è¿æ¥å¯¼è‡´çš„EOFExceptionè§£å†³æ–¹æ¡ˆ","lang":"zh-CN","frontmatter":{"title":"OkHttpå¼€å¯çº¿ç¨‹æ± å¤ç”¨è¿æ¥å¯¼è‡´çš„EOFExceptionè§£å†³æ–¹æ¡ˆ","date":"2024-05-27T00:00:00.000Z","tag":["Java","OkHttp"],"description":"æ‹‰ä¸ªStar å¦‚æœæœ¬çŸ¥è¯†åº“çš„å†…å®¹å¸®åŠ©åˆ°ä½ ï¼Œè¿˜è¯·ç‚¹ä¸ªå…è´¹çš„Starï¼Œæ„Ÿè°¢ã€‚ä¼ é€é—¨ï¼šGitHub ä½¿ç”¨OkHttpæ¥è¿›è¡Œhttpè°ƒç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨æ± åŒ–æœºåˆ¶ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼ŒHttpæ˜¯åŸºäºTCPçš„ï¼Œè€ŒTCPæ˜¯é¢å‘è¿æ¥çš„ã€‚TCPé“¾æ¥çš„å»ºç«‹éœ€è¦ç»å†ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPé“¾æ¥çš„é‡Šæ”¾éœ€è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚å› è€Œï¼Œè¿æ¥çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´å’Œèµ„æºã€‚æ‰€ä»¥é€šå¸¸ä¼šå°†è¿™äº›é“¾æ¥è¿›è¡Œå¤ç”¨ï¼Œè¡¨ç°åœ¨Htt...","head":[["meta",{"property":"og:url","content":"https://kkwalking.github.com/person-database/person-database/java/okhttp-conncection-pool-problem.html"}],["meta",{"property":"og:site_name","content":"zzkçš„ä¸ªäººçŸ¥è¯†åº“"}],["meta",{"property":"og:title","content":"OkHttpå¼€å¯çº¿ç¨‹æ± å¤ç”¨è¿æ¥å¯¼è‡´çš„EOFExceptionè§£å†³æ–¹æ¡ˆ"}],["meta",{"property":"og:description","content":"æ‹‰ä¸ªStar å¦‚æœæœ¬çŸ¥è¯†åº“çš„å†…å®¹å¸®åŠ©åˆ°ä½ ï¼Œè¿˜è¯·ç‚¹ä¸ªå…è´¹çš„Starï¼Œæ„Ÿè°¢ã€‚ä¼ é€é—¨ï¼šGitHub ä½¿ç”¨OkHttpæ¥è¿›è¡Œhttpè°ƒç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨æ± åŒ–æœºåˆ¶ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼ŒHttpæ˜¯åŸºäºTCPçš„ï¼Œè€ŒTCPæ˜¯é¢å‘è¿æ¥çš„ã€‚TCPé“¾æ¥çš„å»ºç«‹éœ€è¦ç»å†ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPé“¾æ¥çš„é‡Šæ”¾éœ€è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚å› è€Œï¼Œè¿æ¥çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´å’Œèµ„æºã€‚æ‰€ä»¥é€šå¸¸ä¼šå°†è¿™äº›é“¾æ¥è¿›è¡Œå¤ç”¨ï¼Œè¡¨ç°åœ¨Htt..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-27T07:35:08.000Z"}],["meta",{"property":"article:author","content":"zzk"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:tag","content":"OkHttp"}],["meta",{"property":"article:published_time","content":"2024-05-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-27T07:35:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OkHttpå¼€å¯çº¿ç¨‹æ± å¤ç”¨è¿æ¥å¯¼è‡´çš„EOFExceptionè§£å†³æ–¹æ¡ˆ\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-27T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-27T07:35:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"zzk\\",\\"url\\":\\"https://github.com/kkwalking\\"}]}"]]},"headers":[],"git":{"createdTime":1716795308000,"updatedTime":1716795308000,"contributors":[{"name":"zhouzekun","email":"zhouzk3@chinatelecom.cn","commits":1}]},"readingTime":{"minutes":2.76,"words":827},"filePathRelative":"java/okhttp-conncection-pool-problem.md","localizedDate":"2024å¹´5æœˆ27æ—¥","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">æ‹‰ä¸ªStar</p>\\n<ul>\\n<li>å¦‚æœ<a href=\\"https://github.com/kkwalking/person-database\\" target=\\"blank\\">æœ¬çŸ¥è¯†åº“</a>çš„å†…å®¹å¸®åŠ©åˆ°ä½ ï¼Œè¿˜è¯·ç‚¹ä¸ªå…è´¹çš„Starï¼Œæ„Ÿè°¢ã€‚ä¼ é€é—¨ï¼š<a href=\\"https://github.com/kkwalking/person-database\\" target=\\"blank\\">GitHub</a></li>\\n</ul>\\n</div>\\n<p>ä½¿ç”¨OkHttpæ¥è¿›è¡Œhttpè°ƒç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨æ± åŒ–æœºåˆ¶ã€‚å¤§å®¶éƒ½çŸ¥é“ï¼ŒHttpæ˜¯åŸºäºTCPçš„ï¼Œè€ŒTCPæ˜¯é¢å‘è¿æ¥çš„ã€‚TCPé“¾æ¥çš„å»ºç«‹éœ€è¦ç»å†ä¸‰æ¬¡æ¡æ‰‹ï¼ŒTCPé“¾æ¥çš„é‡Šæ”¾éœ€è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚å› è€Œï¼Œè¿æ¥çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´å’Œèµ„æºã€‚æ‰€ä»¥é€šå¸¸ä¼šå°†è¿™äº›é“¾æ¥è¿›è¡Œå¤ç”¨ï¼Œè¡¨ç°åœ¨Httpå±‚é¢å°±æ˜¯ä½¿ç”¨Connection:keep-aliveï¼Œå†åœ¨ä»£ç ä¸­å°†è¿™äº›å·²ç»å»ºç«‹çš„è¿æ¥ä¿å­˜èµ·æ¥ï¼Œåç»­å¦‚æœæ˜¯åŒä¸€ä¸ªä¸»æœºåœ°å€çš„ä¾¿å¯ä»¥å¤ç”¨ã€‚è¿™å°±æ˜¯OKHttpçš„è¿æ¥æ± æœºåˆ¶ã€‚</p>","autoDesc":true}');export{r as comp,m as data};
